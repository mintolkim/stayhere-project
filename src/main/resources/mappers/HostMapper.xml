<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 다른 mapper와 중복되지 않도록 네임스페이스 기재 -->
<mapper namespace="host">
<select id="logcheck" resultType="String" parameterType="HostDTO">
  select h_name from Host
  where h_userid=#{h_userid} and h_passwd=#{h_passwd}
</select>

<select id="viewHost" resultType="HostDTO">
  select * from Host
  where h_userid=#{h_userid}
</select>

<select id="idCheck" resultType="int">
  	select count(h_userid) from Host where h_userid=#{h_userid}
</select>
 
<insert id="insert" parameterType="HostDTO">
	insert into Host(h_userid,h_name,h_passwd,h_email,h_phone,h_manager_num) 
	values (#{h_userid},#{h_name},#{h_passwd},#{h_email},#{h_phone},#{h_manager_num})
</insert>

<update id="update">
update Host set 
h_profile_img= #{h_profile_img},
h_passwd=#{h_passwd},
h_email=#{h_email},
h_phone=#{h_phone},
h_manager_num=#{h_manager_num}
where h_userid=#{h_userid}
</update>

<delete id="delete">
delete from Host where h_userid=#{h_userid}
</delete>

<select id="rooms_Confirm" resultType="RoomsDTO">
select * from rooms, room_photo
where rooms.room_idx = room_photo.room_idx
and h_userid =#{h_userid}
</select>

<select id="delete_check" resultType="String">
select room_name from Rooms
where h_userid=#{h_userid} and admin_confirm ='승인'
</select>
</mapper>














